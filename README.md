# Local BrandX Employee Api V1
## Table of Contents

- [Up And Running](#up-and-running)
- [Routes](#routes)
- [Documentation](#documentation)

---
## Up And Running

Please make sure you have docker in your system.

```sh
$ composer install
```

```sh
$ ./vendor/bin/sail up -d
```

```sh
$ ./vendor/bin/sail php artisan key:generate
```

```sh
$ ./vendor/bin/sail php artisan storage:link
```

```sh
$ ./vendor/bin/sail php artisan migrate
```

Api documentation will be generated by:

```sh
$ ./vendor/bin/sail php artisan l5-swagger:generate
```

phpstan & phpcs fixer will be available by:

```sh
$ ./vendor/bin/sail composer analyse
```

Run Test:

```sh
$ ./vendor/bin/sail php artisan test
```

To simplify these steps, you can also use the provided Makefile:

1- Sets up the project with all necessary configurations.
```sh 
$ make up-and-running
```

2- Generates API documentation.
```sh 
$ make generate-api-docs
```

3- Runs phpstan and phpcs for code analysis.
```sh 
$ make run-phpstan-phpcs
```

4- Runs tests.
```sh 
$ make run-tests
```

5- Stops the project and cleans up.
```sh 
$ make clean
```
---

Links:

- Api Documentation: http://localhost/api/documentation
- Public GitHub Repo: https://github.com/Local-Brand-X/api

### Routes
available Routes:
Route Prefix:

/api/v1

| Method   | URI                          | Description             |
|----------|------------------------------|-------------------------|
| GET      | /api/v1/employees            | Get all Employees       |
| POST     | /api/v1/employees            | Upload Employee csv File |
| GET      | /api/v1/employees/{employee} | User Dashboard          |
| DELETE   | /api/v1/employees/{employee} | Delete An Employee      |

---
sample Curl Request:
```sh
$ curl -X POST -H 'Content-Type: text/csv' -d @import.csv http://localhost/api/v1/employees
```

```sh
$ curl -X GET -H 'Content-Type: application/json' http://localhost/api/v1/employees
```

### Documentation
In order to discuss more please take a look at the below notion link.
[Notion](https://first-collard-80e.notion.site/Local-BrandX-Employee-API-V1-c864ba373def4eb09d9abe7298c016fb)

